Here is an exersize of a queue that is thread-safe in C++.
Nice and clean code.
Enjoy it!

//I added a main to help you run it.. :)